# üí± Currency Scripts

–°–∫—Ä–∏–ø—Ç–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫—É—Ä—Å–∞–º–∏ –≤–∞–ª—é—Ç —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –º—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç—ñ.

## üìã –°–ø–∏—Å–æ–∫ —Å–∫—Ä–∏–ø—Ç—ñ–≤

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫—É—Ä—Å—ñ–≤

#### `update-rates.php` ‚≠ê (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
–ü–æ–≤–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –∫—É—Ä—Å—ñ–≤ –≤–∞–ª—é—Ç —á–µ—Ä–µ–∑ ExchangeRate-API –∑ –¥–µ—Ç–∞–ª—å–Ω–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é.

```bash
php currency/update-rates.php
```

**–í–∏–≤–æ–¥–∏—Ç—å:**
- –°–ø–∏—Å–æ–∫ –æ–Ω–æ–≤–ª–µ–Ω–∏—Ö –∫—É—Ä—Å—ñ–≤
- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫—É—Ä—Å—ñ–≤ —É –ë–î
- –¢–µ—Å—Ç–æ–≤—ñ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó
- –°—Ç–∞—Ç—É—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

#### `update-currency-rates.php`
–ü—Ä–æ—Å—Ç—ñ—à–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫—É—Ä—Å—ñ–≤ (–±–µ–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –≤–∏–≤–æ–¥—É).

```bash
php currency/update-currency-rates.php
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫—É—Ä—Å—ñ–≤

#### `check-rates.php`
–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –∫—É—Ä—Å–∏ –≤–∞–ª—é—Ç —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –∑ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è–º –ø–æ –¥–∞—Ç–∞—Ö.

```bash
php currency/check-rates.php
```

**–ü–æ–∫–∞–∑—É—î:**
- –ö—É—Ä—Å–∏ –ø–æ –¥–∞—Ç–∞—Ö
- –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Å—ñ–≤
- –û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

#### `test-exchangerate-api.php` 
–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ ExchangeRate-API.com —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ñ –∫—É—Ä—Å–∏.

```bash
php currency/test-exchangerate-api.php
```

**–¢–µ—Å—Ç—É—î:**
- API –∫–ª—é—á
- –ó'—î–¥–Ω–∞–Ω–Ω—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º
- –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫—É—Ä—Å—ñ–≤ –¥–ª—è UAH, USD, PLN
- –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∑–≤–æ—Ä–æ—Ç–Ω–∏—Ö –∫—É—Ä—Å—ñ–≤

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–µ—à–µ–º

#### `clear-rates-cache.php`
–û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à –∫—É—Ä—Å—ñ–≤ –≤–∞–ª—é—Ç (–∫–æ—Ä–∏—Å–Ω–æ –ø—ñ—Å–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è).

```bash
php currency/clear-rates-cache.php
```

**–í–∏–¥–∞–ª—è—î –∫–µ—à –¥–ª—è:**
- –í—Å—ñ—Ö –ø–∞—Ä –≤–∞–ª—é—Ç
- –í—Å—ñ—Ö –¥–∞—Ç
- –ü—Ä–∏–º—É—Å–æ–≤–æ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑ –ë–î

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

#### `test-currency-service.php`
–ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π —Ç–µ—Å—Ç CurrencyService (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è, —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è).

```bash
php currency/test-currency-service.php
```

**–¢–µ—Å—Ç—É—î:**
- –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Å—É–º
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—é –º—ñ–∂ –≤–∞–ª—é—Ç–∞–º–∏
- –†–æ–±–æ—Ç—É –∑ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏–º–∏ –¥–∞—Ç–∞–º–∏

#### `test-multicurrency.php`
–¢–µ—Å—Ç –º—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π —Ç–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤.

```bash
php currency/test-multicurrency.php
```

### –Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –¥–∞–Ω—ñ

#### `add-historical-rates.php`
–î–æ–¥–∞—Ç–∏ —ñ—Å—Ç–æ—Ä–∏—á–Ω—ñ –∫—É—Ä—Å–∏ –≤–∞–ª—é—Ç –∑–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –¥–∞—Ç–∏.

```bash
php currency/add-historical-rates.php
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
–î–ª—è –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –∫—É—Ä—Å—ñ–≤ –∑–∞ –º–∏–Ω—É–ª—ñ –¥–∞—Ç–∏ (—è–∫—â–æ —î —Å—Ç–∞—Ä—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó).

#### `set-manual-rates.php`
–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∫—É—Ä—Å–∏ –≤–∞–ª—é—Ç –≤—Ä—É—á–Ω—É (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∞–±–æ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º—É).

```bash
php currency/set-manual-rates.php
```

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:**
- API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ
- –¢–µ—Å—Ç–æ–≤–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
- –ü–æ—Ç—Ä—ñ–±–Ω—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫—É—Ä—Å–∏

#### `fix-currency-rates.php`
–í–∏–ø—Ä–∞–≤–∏—Ç–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –∫—É—Ä—Å–∏ –∞–±–æ –¥–æ–¥–∞—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ.

```bash
php currency/fix-currency-rates.php
```

## üéØ –¢–∏–ø–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó

### –©–æ–¥–µ–Ω–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ Laravel Scheduler (—â–æ–¥–Ω—è –æ 16:00)
php artisan schedule:work

# –ê–±–æ –≤—Ä—É—á–Ω—É
php artisan currency:update-rates
```

### –ü–µ—Ä—à–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# 1. –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤—ñ –∫—É—Ä—Å–∏
php currency/update-rates.php

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –∑–±–µ—Ä–µ–≥–ª–æ—Å—å
php currency/check-rates.php

# 3. –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—é
php currency/test-currency-service.php
```

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –∫—É—Ä—Å–∞–º–∏
```bash
# 1. –û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à
php currency/clear-rates-cache.php

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ API
php currency/test-exchangerate-api.php

# 3. –û–Ω–æ–≤–∏—Ç–∏ –∫—É—Ä—Å–∏
php currency/update-rates.php
```

### –Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó
```bash
# 1. –î–æ–¥–∞—Ç–∏ –∫—É—Ä—Å–∏ –∑–∞ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–∞—Ç–∏
php currency/add-historical-rates.php

# 2. –û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à
php currency/clear-rates-cache.php

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ dashboard
php ../diagnostics/verify-dashboard.php
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–í—Å—ñ —Å–∫—Ä–∏–ø—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –∑ `.env`:

```env
EXCHANGE_RATE_PROVIDER=exchangerate-api
EXCHANGERATE_API_KEY=your_api_key_here
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: `docs/multi-currency-guide.md`

API –¥–æ–≤—ñ–¥–∫–∞: `docs/EXCHANGERATE-API-SETUP.md`

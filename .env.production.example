# ═══════════════════════════════════════════════════════════════════════════
# 🚀 PRODUCTION ENVIRONMENT TEMPLATE
# ═══════════════════════════════════════════════════════════════════════════
# Finance Tracker - Production Configuration Template
# 
# 📋 ІНСТРУКЦІЯ:
# 1. Скопіюйте цей файл як `.env.production`
# 2. Заповніть всі значення відповідно до вашого production середовища
# 3. Згенеруйте APP_KEY: php artisan key:generate --show --env=production
# 4. Перевірте checklist внизу файлу перед deployment
# 
# ⚠️  БЕЗПЕКА:
# - Ніколи не комітьте .env.production з реальними секретами
# - Використовуйте secrets manager (AWS Secrets, HashiCorp Vault, etc.)
# - Зберігайте backup credentials в безпечному місці
# 
# Оновлено: 7 жовтня 2025
# ═══════════════════════════════════════════════════════════════════════════

# ─── Application Settings ───────────────────────────────────────────────────
APP_NAME="Finance Tracker"
APP_ENV=production
APP_KEY=base64:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
APP_DEBUG=false
APP_TIMEZONE=Europe/Kiev
APP_URL=https://finance.example.com
APP_LOCALE=uk
APP_FALLBACK_LOCALE=en

# ─── Currency Settings ──────────────────────────────────────────────────────
DEFAULT_CURRENCY=UAH
EXCHANGE_RATE_PROVIDER=nbu
EXCHANGE_RATE_CACHE_TTL=3600

# ─── Logging ────────────────────────────────────────────────────────────────
LOG_CHANNEL=stack
LOG_STACK=daily,sentry
LOG_LEVEL=warning
LOG_DAYS=14

# ─── Database ───────────────────────────────────────────────────────────────
DB_CONNECTION=mysql
DB_HOST=10.0.1.50
DB_PORT=3306
DB_DATABASE=finance_tracker_prod
DB_USERNAME=finance_prod_user
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_MIN_32_CHARS
DB_STRICT_MODE=true

# ─── Cache & Session ────────────────────────────────────────────────────────
CACHE_DRIVER=redis
CACHE_PREFIX=ft_cache
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_DOMAIN=.example.com
SESSION_SECURE_COOKIE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax

# ─── Queue ──────────────────────────────────────────────────────────────────
QUEUE_CONNECTION=redis
QUEUE_PREFIX=ft_queue

# ─── Redis ──────────────────────────────────────────────────────────────────
REDIS_HOST=10.0.1.51
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_PORT=6379
REDIS_CLIENT=phpredis
REDIS_PREFIX=ft_
REDIS_DB=0
REDIS_CACHE_DB=1
REDIS_QUEUE_DB=2
REDIS_SESSION_DB=3

# ─── Filesystem ─────────────────────────────────────────────────────────────
FILESYSTEM_DISK=s3

# AWS S3
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
AWS_DEFAULT_REGION=eu-central-1
AWS_BUCKET=finance-tracker-production
AWS_URL=https://finance-tracker-production.s3.eu-central-1.amazonaws.com

# ─── Mail ───────────────────────────────────────────────────────────────────
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=noreply@example.com
MAIL_PASSWORD=XXXX_XXXX_XXXX_XXXX
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@example.com
MAIL_FROM_NAME="${APP_NAME}"
MAIL_REPLY_TO_ADDRESS=support@example.com

# ─── Security & Authentication ──────────────────────────────────────────────
SANCTUM_STATEFUL_DOMAINS=example.com,www.example.com
PASSWORD_RESET_TIMEOUT=3600

# ─── Rate Limiting ──────────────────────────────────────────────────────────
RATE_LIMIT_LOGIN=5
RATE_LIMIT_API=60
RATE_LIMIT_GLOBAL=1000

# ─── CORS ───────────────────────────────────────────────────────────────────
CORS_ALLOWED_ORIGINS=https://example.com,https://www.example.com
CORS_SUPPORTS_CREDENTIALS=true

# ─── Error Tracking (Sentry) ────────────────────────────────────────────────
SENTRY_LARAVEL_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1
SENTRY_ENVIRONMENT=production

# ─── Monitoring (Prometheus) ────────────────────────────────────────────────
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_NAMESPACE=finance_tracker

# ─── Performance ────────────────────────────────────────────────────────────
OPCACHE_ENABLE=1
OPCACHE_MEMORY_CONSUMPTION=256
OPCACHE_VALIDATE_TIMESTAMPS=0
OPTIMIZE_CONFIG=true
OPTIMIZE_ROUTES=true
OPTIMIZE_VIEWS=true

# ─── Backup ─────────────────────────────────────────────────────────────────
BACKUP_ENABLED=true
BACKUP_DISK=s3
BACKUP_SCHEDULE=daily
BACKUP_RETENTION_DAYS=30
BACKUP_NOTIFICATION_EMAIL=admin@example.com

# ─── Health Checks ──────────────────────────────────────────────────────────
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DISK_THRESHOLD=90
HEALTH_CHECK_MEMORY_THRESHOLD=90

# ─── Debug Tools (DISABLED) ─────────────────────────────────────────────────
DEBUGBAR_ENABLED=false
TELESCOPE_ENABLED=false
QUERY_LOG_ENABLED=false

# ─── Third-Party (Optional) ─────────────────────────────────────────────────
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ─── Vite ───────────────────────────────────────────────────────────────────
VITE_APP_NAME="${APP_NAME}"

# ═══════════════════════════════════════════════════════════════════════════
# ✅ PRE-DEPLOYMENT CHECKLIST
# ═══════════════════════════════════════════════════════════════════════════
# [ ] APP_KEY згенеровано: php artisan key:generate --show
# [ ] APP_DEBUG=false
# [ ] APP_URL змінено на production domain
# [ ] DB_PASSWORD змінено (мін 32 символи, складний)
# [ ] DB_USERNAME НЕ root
# [ ] REDIS_PASSWORD встановлено
# [ ] SESSION_SECURE_COOKIE=true
# [ ] SESSION_DOMAIN встановлено правильно
# [ ] MAIL credentials налаштовано та протестовано
# [ ] SENTRY_LARAVEL_DSN налаштовано
# [ ] AWS credentials налаштовано (якщо використовується S3)
# [ ] CORS_ALLOWED_ORIGINS містить тільки ваші домени
# [ ] Backup налаштовано та протестовано
# [ ] SSL сертифікат встановлено
# [ ] Firewall налаштовано
# [ ] Database backup schedule активовано
# [ ] Monitoring alerts налаштовано
# [ ] Rate limiting протестовано
# [ ] Health check endpoint працює
# [ ] Всі debug tools вимкнено
# [ ] .env.production НЕ в git репозиторії
# [ ] Secrets збережено в безпечному місці
# ═══════════════════════════════════════════════════════════════════════════

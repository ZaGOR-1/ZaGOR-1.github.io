# –ó–≤—ñ—Ç –ø—Ä–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

**–î–∞—Ç–∞:** 7 –∂–æ–≤—Ç–Ω—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–æ–≤—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞–ª–∏—Å—è –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —É –≤–∫–ª–∞–¥—Ü—ñ –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó

---

## üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º–∏

### –°–∏–º–ø—Ç–æ–º–∏
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞–º–∞–≥–∞–≤—Å—è –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é, –∞–ª–µ:
- ‚úÖ –§–æ—Ä–º–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è–ª–∞—Å—è —É—Å–ø—ñ—à–Ω–æ
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è –∑–±–µ—Ä—ñ–≥–∞–ª–∞—Å—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
- ‚ùå **–ù–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –Ω–µ –∑'—è–≤–ª—è–ª–∞—Å—è –≤ —Å–ø–∏—Å–∫—É** –ø—ñ—Å–ª—è –∑–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞
- ‚ùå –ü–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –Ω–æ–≤—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é

### –í–∏—è–≤–ª–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞

**–ö–µ—à –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –Ω–µ –æ—á–∏—â–∞–≤—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó**

–†–æ–∑—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è –ø–æ–∫–∞–∑–∞–ª–æ:

1. ‚úÖ `CategoryController::store()` –≤–∏–∫–ª–∏–∫–∞–≤ `categoryService->createCategory()`
2. ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è —Å—Ç–≤–æ—Ä—é–≤–∞–ª–∞—Å—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
3. ‚ùå **`CategoryService::createCategory()` –ù–ï –æ—á–∏—â–∞–≤ –∫–µ—à**
4. ‚ùå JavaScript –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–≤ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑ –∫–µ—à—É (—Å—Ç–∞—Ä—ñ –¥–∞–Ω—ñ)
5. ‚ùå –ù–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –±—É–ª–∞ –≤ –ë–î, –∞–ª–µ –Ω–µ –≤ –∫–µ—à—ñ

### –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ —ñ–Ω—à–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏

```php
// ‚úÖ updateCategory() - –æ—á–∏—â–∞—î –∫–µ—à
public function updateCategory(int $categoryId, int $userId, array $data): Category
{
    // ... –ª–æ–≥—ñ–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è ...
    
    // –û—á–∏—â–∞—î–º–æ –∫–µ—à –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    $this->cacheService->forgetUserCategories($userId);
    
    return $updated;
}

// ‚úÖ deleteCategory() - –æ—á–∏—â–∞—î –∫–µ—à
public function deleteCategory(int $categoryId, int $userId): bool
{
    // ... –ª–æ–≥—ñ–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è ...
    
    // –û—á–∏—â–∞—î–º–æ –∫–µ—à –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    if ($deleted) {
        $this->cacheService->forgetUserCategories($userId);
    }
    
    return $deleted;
}

// ‚ùå createCategory() - –ù–ï –æ—á–∏—â–∞–≤ –∫–µ—à
public function createCategory(int $userId, array $data): Category
{
    $data['user_id'] = $userId;
    return $this->categoryRepository->create($data); // ‚ùå –ë–µ–∑ –æ—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É!
}
```

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è CategoryService

**–§–∞–π–ª:** `app/Services/CategoryService.php`

–î–æ–¥–∞–Ω–æ –æ—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó:

```php
/**
 * –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é.
 */
public function createCategory(int $userId, array $data): Category
{
    $data['user_id'] = $userId;
    $category = $this->categoryRepository->create($data);
    
    // ‚ú® –û—á–∏—â–∞—î–º–æ –∫–µ—à –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    $this->cacheService->forgetUserCategories($userId);
    
    return $category;
}
```

**–ó–º—ñ–Ω–∏:**
1. ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç `create()` —Ç–µ–ø–µ—Ä –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É –∑–º—ñ–Ω–Ω—É `$category`
2. ‚úÖ –î–æ–¥–∞–Ω–æ –≤–∏–∫–ª–∏–∫ `$this->cacheService->forgetUserCategories($userId)`
3. ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –æ—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É

---

## üîÑ –Ø–∫ –ø—Ä–∞—Ü—é—î –∫–µ—à—É–≤–∞–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è

```php
// CacheService –≥–µ–Ω–µ—Ä—É—î –∫–ª—é—á—ñ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
public function categoriesKey(int $userId, array $filters = []): string
{
    $hash = empty($filters) ? 'all' : md5(json_encode($filters));
    return "user_{$userId}_categories_{$hash}";
}

// CategoryService –∫–µ—à—É—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –Ω–∞ 60 —Ö–≤–∏–ª–∏–Ω
public function getUserCategories(int $userId, array $filters = []): Collection
{
    $cacheKey = $this->cacheService->categoriesKey($userId, $filters);
    
    return $this->cacheService->remember(
        'categories',
        $cacheKey,
        fn() => $this->categoryRepository->getUserCategories($userId, $filters)
    );
}
```

### –ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –∫–µ—à—É

**–î–û –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**

```
1. JavaScript –∑–∞–ø–∏—Ç—É—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó ‚Üí GET /api/v1/categories
2. CategoryService –ø–µ—Ä–µ–≤—ñ—Ä—è—î –∫–µ—à
3. –ö–µ—à —ñ—Å–Ω—É—î (TTL = 60 —Ö–≤–∏–ª–∏–Ω) ‚Üí –ø–æ–≤–µ—Ä—Ç–∞—î —Å—Ç–∞—Ä—ñ –¥–∞–Ω—ñ
4. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–µ–∑ –Ω–æ–≤–æ—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó

5. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é ‚Üí POST /api/v1/categories
6. CategoryService —Å—Ç–≤–æ—Ä—é—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –≤ –ë–î ‚úÖ
7. ‚ùå –ö–µ—à –ù–ï –æ—á–∏—â–∞—î—Ç—å—Å—è
8. –ö–∞—Ç–µ–≥–æ—Ä—ñ—è –≤ –ë–î, –∞–ª–µ –Ω–µ –≤ –∫–µ—à—ñ

9. JavaScript –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó ‚Üí GET /api/v1/categories
10. CategoryService –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ –∑ –∫–µ—à—É (–±–µ–∑ –Ω–æ–≤–æ—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó) ‚ùå
```

**–ü–Ü–°–õ–Ø –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**

```
1. JavaScript –∑–∞–ø–∏—Ç—É—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó ‚Üí GET /api/v1/categories
2. CategoryService –ø–µ—Ä–µ–≤—ñ—Ä—è—î –∫–µ—à
3. –ö–µ—à —ñ—Å–Ω—É—î ‚Üí –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ –∑ –∫–µ—à—É

4. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é ‚Üí POST /api/v1/categories
5. CategoryService —Å—Ç–≤–æ—Ä—é—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –≤ –ë–î ‚úÖ
6. ‚úÖ CategoryService –æ—á–∏—â–∞—î –∫–µ—à
7. –ö–∞—Ç–µ–≥–æ—Ä—ñ—è –≤ –ë–î, –∫–µ—à –ø–æ—Ä–æ–∂–Ω—ñ–π

8. JavaScript –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó ‚Üí GET /api/v1/categories
9. CategoryService –ø–µ—Ä–µ–≤—ñ—Ä—è—î –∫–µ—à
10. –ö–µ—à –ø–æ—Ä–æ–∂–Ω—ñ–π ‚Üí –∑–∞–ø–∏—Ç –¥–æ –ë–î
11. –ü–æ–≤–µ—Ä—Ç–∞—î –≤—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó (–≤–∫–ª—é—á–∞—é—á–∏ –Ω–æ–≤—É) ‚úÖ
12. –ö–µ—à—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ 60 —Ö–≤–∏–ª–∏–Ω
```

---

## üß™ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –û—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É

```bash
php artisan cache:clear
php artisan config:clear
```

### 2. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó"**
2. **–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–î–æ–¥–∞—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é"**
3. **–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É:**
   - –ù–∞–∑–≤–∞: –¢–µ—Å—Ç–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è
   - –¢–∏–ø: –í–∏—Ç—Ä–∞—Ç–∞
   - –ö–æ–ª—ñ—Ä: #FF5733 (–±—É–¥—å-—è–∫–∏–π –∫–æ–ª—ñ—Ä)
4. **–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–±–µ—Ä–µ–≥—Ç–∏"**
5. ‚úÖ **–ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è**
6. ‚úÖ **–ù–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –º–∏—Ç—Ç—î–≤–æ –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫—É!**

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

‚úÖ **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó** - –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫—É –º–∏—Ç—Ç—î–≤–æ  
‚úÖ **–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó** - –∑–º—ñ–Ω–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –º–∏—Ç—Ç—î–≤–æ  
‚úÖ **–í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó** - –≤–∏–¥–∞–ª—è—î—Ç—å—Å—è –∑—ñ —Å–ø–∏—Å–∫—É –º–∏—Ç—Ç—î–≤–æ  
‚úÖ **–ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ –≤–∫–ª–∞–¥–∫–∞–º–∏** - –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ  

---

## üìä –í–ø–ª–∏–≤ –Ω–∞ —Å–∏—Å—Ç–µ–º—É

### –û–ø–µ—Ä–∞—Ü—ñ—ó —â–æ –æ—á–∏—â–∞—é—Ç—å –∫–µ—à –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

| –û–ø–µ—Ä–∞—Ü—ñ—è | –û—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É | –°—Ç–∞—Ç—É—Å |
|----------|---------------|--------|
| `createCategory()` | ‚úÖ –î–æ–¥–∞–Ω–æ | –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ |
| `updateCategory()` | ‚úÖ –ë—É–ª–æ | OK |
| `deleteCategory()` | ‚úÖ –ë—É–ª–æ | OK |
| `getUserCategories()` | ‚ùå –¢—ñ–ª—å–∫–∏ —á–∏—Ç–∞–Ω–Ω—è | OK |

### Consistency –º—ñ–∂ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏

–¢–µ–ø–µ—Ä **–≤—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó CUD** (Create, Update, Delete) –æ—á–∏—â–∞—é—Ç—å –∫–µ—à:

```php
// Create - ‚úÖ –æ—á–∏—â–∞—î –∫–µ—à
createCategory() ‚Üí forgetUserCategories()

// Update - ‚úÖ –æ—á–∏—â–∞—î –∫–µ—à
updateCategory() ‚Üí forgetUserCategories()

// Delete - ‚úÖ –æ—á–∏—â–∞—î –∫–µ—à
deleteCategory() ‚Üí forgetUserCategories()

// Read - –∫–µ—à—É—î –¥–∞–Ω—ñ
getUserCategories() ‚Üí remember('categories', ...)
```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –©–æ –ø—Ä–∞—Ü—é—î —Ç–µ–ø–µ—Ä

‚úÖ **–ú–∏—Ç—Ç—î–≤–µ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π** –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è  
‚úÖ **–ú–∏—Ç—Ç—î–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è** –ø—Ä–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó  
‚úÖ **–ú–∏—Ç—Ç—î–≤–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è** –∑—ñ —Å–ø–∏—Å–∫—É  
‚úÖ **–ö–æ—Ä–µ–∫—Ç–Ω–µ –∫–µ—à—É–≤–∞–Ω–Ω—è** –¥–ª—è —à–≤–∏–¥–∫–æ—ó —Ä–æ–±–æ—Ç–∏  
‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å** –º—ñ–∂ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏  

### –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

–ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó:
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ø–æ–≤–Ω—é—î —Ñ–æ—Ä–º—É
2. –ù–∞—Ç–∏—Å–∫–∞—î "–ó–±–µ—Ä–µ–≥—Ç–∏"
3. ‚úÖ –§–æ—Ä–º–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤ –ë–î
5. ‚úÖ –ö–µ—à –æ—á–∏—â–∞—î—Ç—å—Å—è
6. ‚úÖ JavaScript –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —Å–ø–∏—Å–æ–∫
7. ‚úÖ –ù–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –∑'—è–≤–ª—è—î—Ç—å—Å—è –º–∏—Ç—Ç—î–≤–æ

**–ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏!** ‚ö°

---

## üìÅ –ó–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏

### –°–µ—Ä–≤—ñ—Å–∏
- ‚úÖ `app/Services/CategoryService.php` - –¥–æ–¥–∞–Ω–æ –æ—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É –≤ `createCategory()`

### –û—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É
- ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ `php artisan cache:clear`
- ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ `php artisan config:clear`

---

## üîÆ –ê–Ω–∞–ª–æ–≥—ñ—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ–Ω—à–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤–∞—Ä—Ç–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ñ–Ω—à—ñ —Å–µ—Ä–≤—ñ—Å–∏ –Ω–∞ –ø–æ–¥—ñ–±–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏:

#### ‚úÖ TransactionService
```php
createTransaction() {
    // ...
    $this->cacheService->forgetUserTransactions($userId);
    $this->clearStatsCache($userId);
    // ‚úÖ –û—á–∏—â–∞—î –∫–µ—à
}
```

#### ‚úÖ BudgetService (–ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏)
```php
createBudget() {
    // –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –º–æ–∂–µ –º–∞—Ç–∏ —Ç—É —Å–∞–º—É –ø—Ä–æ–±–ª–µ–º—É
    // –Ø–∫—â–æ –∫–µ—à—É—é—Ç—å—Å—è –±—é–¥–∂–µ—Ç–∏
}
```

---

## üìå –í–∏—Å–Ω–æ–≤–∫–∏

**–ö–æ—Ä—ñ–Ω–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞:** –ú–µ—Ç–æ–¥ `createCategory()` –Ω–µ –æ—á–∏—â–∞–≤ –∫–µ—à –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó, –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ `updateCategory()` —Ç–∞ `deleteCategory()`.

**–†—ñ—à–µ–Ω–Ω—è:** –î–æ–¥–∞–Ω–æ –≤–∏–∫–ª–∏–∫ `$this->cacheService->forgetUserCategories($userId)` –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–æ–≤—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó **–º–∏—Ç—Ç—î–≤–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è** –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏.

**–£—Ä–æ–∫:** –ü—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º –≤–∞–∂–ª–∏–≤–æ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ **consistency** - –≤—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó —â–æ –∑–º—ñ–Ω—é—é—Ç—å –¥–∞–Ω—ñ (CUD) –ø–æ–≤–∏–Ω–Ω—ñ –æ—á–∏—â–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –∫–µ—à.

---

## üõ°Ô∏è Best Practices –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è

### –ü—Ä–∞–≤–∏–ª–æ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ

```php
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö –æ—á–∏—â–∞—é—Ç—å –∫–µ—à
class SomeService {
    public function create($data) {
        $result = $this->repository->create($data);
        $this->clearCache(); // ‚úÖ
        return $result;
    }
    
    public function update($id, $data) {
        $result = $this->repository->update($id, $data);
        $this->clearCache(); // ‚úÖ
        return $result;
    }
    
    public function delete($id) {
        $result = $this->repository->delete($id);
        if ($result) {
            $this->clearCache(); // ‚úÖ
        }
        return $result;
    }
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ù–µ–ø–æ—Å–ª—ñ–¥–æ–≤–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É
class SomeService {
    public function create($data) {
        return $this->repository->create($data);
        // ‚ùå –ö–µ—à –Ω–µ –æ—á–∏—â–∞—î—Ç—å—Å—è
    }
    
    public function update($id, $data) {
        $result = $this->repository->update($id, $data);
        $this->clearCache(); // ‚úÖ –û—á–∏—â–∞—î—Ç—å—Å—è
        return $result;
    }
}
```

### –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è

- [ ] Create –æ–ø–µ—Ä–∞—Ü—ñ—è –æ—á–∏—â–∞—î –∫–µ—à
- [ ] Update –æ–ø–µ—Ä–∞—Ü—ñ—è –æ—á–∏—â–∞—î –∫–µ—à
- [ ] Delete –æ–ø–µ—Ä–∞—Ü—ñ—è –æ—á–∏—â–∞—î –∫–µ—à
- [ ] Read –æ–ø–µ—Ä–∞—Ü—ñ—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–µ—à
- [ ] TTL –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π —Ä–æ–∑—É–º–Ω–æ (–Ω–µ –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–æ)
- [ ] –ö–ª—é—á—ñ –∫–µ—à—É —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- [ ] –û—á–∏—â–µ–Ω–Ω—è –∫–µ—à—É –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ü–Ü–°–õ–Ø —É—Å–ø—ñ—à–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó

---

**–ê–≤—Ç–æ—Ä –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** GitHub Copilot  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ  
**–ß–∞—Å –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** ~10 —Ö–≤–∏–ª–∏–Ω
